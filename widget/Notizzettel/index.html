<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>NotizZettel Widget</title>
		
		<!-- comment in the other css to try out the stylability -->
		<link type="text/css" href="./css/ui-darkness/jquery-ui-1.8.7.custom.css" rel="stylesheet" />
                <link type="text/css" href="./css/global.css" rel="stylesheet" />
                <link type="text/css" href="./css/tagclouds.css" rel="stylesheet" />
                <link type="text/css" href="./css/jquery.crayonbox.js" rel="stylesheet" />
                
		<style type="text/css">
			#errorContainer { display: none; }
		</style>
		
		<!--embedding the jquery libraries-->
		<script type="text/javascript" src="./libs/jquery-1.4.4.min.js"></script>
		<script type="text/javascript" src="./libs/jquery-ui-1.8.7.custom.min.js"></script>
		<script type="text/javascript" src="./libs/tinysort.js"></script>
		<script type="text/javascript" src="./libs/jquery.crayonbox.js"></script>

		<script type="text/javascript">
			$(document).ready(function()
			{
				$('#colorSelector').crayonbox(
				{
					colors: new Array("#FF0000", "#FF9800", "#001FFF", "#FFF300", "#00F300", "#FFFFFF"),
					crayonTag: "button"
				});
			});
		</script>
		
		<!--defining some helpful functions (before loading js files, debug is used there)-->
		<script type="text/javascript">
			//debug function
			function debug(msg){
				if(typeof parent != 'undefined' && typeof parent.debug != 'undefined')
					parent.debug(msg);
				else alert(msg);
			}
			
			
			//is called after the DOM tree is fully loaded
			function onLoad(){
				var lang = widget.preferenceForKey('lang');
				MVC.Controller.init(lang);

			}

            function appendTagToField(tag) {
                $( "input#tags" ).val($( "input#tags" ).val() + ", "+ tag);

            }

            $(function() {
		        $( "#start_date" ).datepicker();
                $( "#end_date" ).datepicker();
                $( "#reminder" ).datepicker();
	        });

			
		</script>

		
		<!--embedding code for the MVC pattern-->
		<script type="text/javascript" src="./js/mvc.js"></script>
		<script type="text/javascript" src="./js/model.js"></script>
		<script type="text/javascript" src="./js/view.js"></script>
		<script type="text/javascript" src="./js/controller.js"></script>
	</head>
	<body>
		

		<div class="ui-widget" id="errorContainer">
			<div class="ui-state-error ui-corner-all" style="padding: 0pt 0.5em;">
				<p></p><span class="ui-icon ui-icon-alert" style="float: left; margin-right: 0.3em;"></span>
				<span id="notification"></span></p>
			</div>
		</div>



		<div id="listview">
                    <div id="navbar_list_view" class="ui-corner-all ui-widget-content">
                        <ul id="icons" class="ui-widget ui-helper-clearfix">
                                <li class="ui-state-default ui-corner-all" title="Add Note" onclick="MVC.Controller.notesAddNewNote();"><span class="ui-icon ui-icon-plus"></span></li>
                                <li class="ui-state-default ui-corner-all" title="Refresh List" onclick="MVC.Controller.notesListViewDataAsked();"><span class="ui-icon ui-icon-refresh"></span></li>
                                <li class="ui-state-default ui-corner-all" title="TagCloud View" onclick="MVC.Controller.tagCloudViewDataAsked();"><span class="ui-icon ui-icon-calculator"></span></li>
                        </ul>
                    </div>
                    <div id="noteslist">
		

                    </div>
                    <div id="searchbox"></div>
		</div>

                <div id="singlenoteview" class="ui-helper-hidden">

                    <div id="navbar_singlenoteview" class="ui-corner-all ui-widget-content">
                        <ul id="icons" class="ui-widget ui-helper-clearfix">
                            <li class="ui-state-default ui-corner-all" title="Add Note" onclick="MVC.Controller.notesAddNewNote();"><span class="ui-icon ui-icon-plus"></span></li>
                            <li class="ui-state-default ui-corner-all" title="List View" onclick="MVC.Controller.notesReturnToListView()"><span class="ui-icon ui-icon-arrowreturnthick-1-w"></span></li>
                            <li class="ui-state-default ui-corner-all" title="Delete Note" onclick="MVC.Controller.notesDeleteNote()"><span class="ui-icon ui-icon-trash"></span></li>
                        </ul>
                    </div>

                    <div id="notesedits" class="ui-corner-all ui-widget-content">
                        <h2><span lang="en">Note</span></h2>
                        <input type="hidden" id="id">
                        <div class="ui-widget">
                            <label for="title"><span lang="en">Title</span>: </label>
                            <input id="title">
                        </div>

                        <div id="color_div" class="ui-widget">
				<!-- computed in view because of colorSelector -->
				<label for="colors"><span lang="en">Color</span>: </label>
				<input id="colorSelector" type="text" style="display: none" />
                        </div>

                        <div class="ui-widget">
                            <label for="tags"><span lang="en">Tags</span>: </label>
                            <input id="tags" onclick="MVC.Controller.getTagCloudData();">
                            <div id="tag_cloud_outside">
                                     <div style="float:left"><h2>Tag Cloud</h2></div>
                                    <div style="float:right"><span class="ui-icon ui-icon-circle-close" onclick=" $('div#tag_cloud_outside').hide();" "></span></div>
                                     <div style="clear: both;" id="tag_cloud">
                                     </div>
                            </div>
                        </div>

                        <div class="ui-widget">
                            <label for="location"><span lang="en">Location</span>: </label>
                            <input id="location">
                        </div>

                        <div class="ui-widget">
                            <label for="start_date"><span lan="en">Start Date</span>: </label>
                            <input id="start_date" type="text">
                        </div>

                        <div class="ui-widget">
                            <label for="end_date"><span lan="en">End Date</span>: </label>
                            <input id="end_date">
                        </div>

                        <div class="ui-widget">
                            <label for="reminder"><span lan="en">Reminder</span>: </label>
                            <input id="reminder">
                        </div>

                        <div class="ui-widget">
                            <label for="description"><span lang="en">Description</span>: </label>
                            <textarea id="description"></textarea>
                        </div>


                    </div>


                    <div id="searchbox"></div>
		</div>

		<div id="tagcloudview">
                    <div id="navbar_tagcloud_view" class="ui-corner-all ui-widget-content">
                        <ul id="icons" class="ui-widget ui-helper-clearfix">
                                <li class="ui-state-default ui-corner-all" title="Add Note" onclick="MVC.Controller.notesAddNewNote();"><span class="ui-icon ui-icon-plus"></span></li>
                                <li class="ui-state-default ui-corner-all" title="Refresh List" onclick="MVC.Controller.tagCloudViewDataAsked();"><span class="ui-icon ui-icon-refresh"></span></li>
                                <li class="ui-state-default ui-corner-all" title="List View" onclick="MVC.Controller.notesListViewDataAsked();"><span class="ui-icon ui-icon-script"></span></li>
                        </ul>
                    </div>
                    <div id="tags">
		
                    </div>
		</div>


		<!-- your static html code if needed  -->
	
		
		
		<!-- end of your static html code if needed  -->

	</body>
</html>
